<div class="container mx-auto p-4 sm:p-6">
  <div class="flex flex-col lg:flex-row gap-6">
    <!-- Poster and Controls Section -->
    <div class="lg:w-1/3 w-full space-y-6">
      <div class="relative rounded-2xl overflow-hidden glassmorphism-form shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_20px_rgba(75,0,130,0.7)]">
        <div class="absolute inset-0 bg-cover bg-center high-quality-bg opacity-70"
             style="background-image: url('https://image.tmdb.org/t/p/original{{poster_path}}');">
        </div>
        <img id="poster" src="https://image.tmdb.org/t/p/original{{poster_path}}" alt="{{title_or_name}}"
             class="relative z-10 w-full h-auto rounded-lg shadow-xl">
      </div>

<!-- Controls -->
<div class="glassmorphism-form rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4 shadow-lg">
        <!-- Advanced Filters -->
        <button id="toggleFiltersButton">
          <span>Advanced Filters</span>
          <span id="toggleIcon"><i class="fas fa-chevron-down"></i></span>
        </button>

        <div id="additionalFilters" class="hidden">
          <div class="filter-group">
            <label class="filter-label">Genre</label>
            <select class="filter-select custom-select">
              <option value="">All Genres</option>
              <option value="action">Action</option>
              <option value="comedy">Comedy</option>
              <option value="drama">Drama</option>
              <option value="horror">Horror</option>
              <option value="thriller">Thriller</option>
              <option value="scifi">Sci-Fi</option>
              <option value="fantasy">Fantasy</option>
              <option value="romance">Romance</option>
              <option value="animation">Animation</option>
            </select>
          </div>

          <div class="filter-group">
            <label class="filter-label">Year</label>
            <select class="filter-select custom-select">
              <option value="">All Years</option>
              <option value="2024">2024</option>
              <option value="2023">2023</option>
              <option value="2022">2022</option>
              <option value="2021">2021</option>
              <option value="2020">2020</option>
              <option value="2019">2019</option>
              <option value="2018">2018</option>
              <option value="older">2017 & Older</option>
            </select>
          </div>

          <div class="filter-group">
            <label class="filter-label">Rating</label>
            <select class="filter-select custom-select">
              <option value="">All Ratings</option>
              <option value="9">9+ ⭐</option>
              <option value="8">8+ ⭐</option>
              <option value="7">7+ ⭐</option>
              <option value="6">6+ ⭐</option>
            </select>
          </div>

          <div class="filter-group">
            <label class="filter-label flex items-center space-x-2">
              <input type="checkbox" class="filter-checkbox">
              <span>Include Adult Content</span>
            </label>
          </div>
        </div>

        <!-- Language Select Dropdown -->
        <div>
          <label for="languageSelect" class="block text-xs sm:text-sm font-semibold text-gray-200 mb-1">
            <i class="fas fa-language mr-2"></i>Select Language:
          </label>
          <select id="languageSelect"
                  class="custom-select sm-select w-full bg-gray-800 text-white rounded-lg border border-gray-700 p-1 sm:p-2 focus:border-purple-400 focus:ring-purple-400 transition duration-200 ease-in-out">
            <option value="en">English</option>
            <option value="fr">French</option>
          </select>
        </div>

        <!-- Provider Select Dropdown -->
        <div>
          <label for="providerSelect" class="block text-xs sm:text-sm font-semibold text-gray-200 mb-1">
            <i class="fas fa-tv mr-2"></i>Select Content Provider:
          </label>
          <select id="providerSelect"
                  class="custom-select sm-select w-full bg-gray-800 text-white rounded-lg border border-gray-700 p-1 sm:p-2 focus:border-purple-400 focus:ring-purple-400 transition duration-200 ease-in-out">
            <optgroup label="Best Providers (No Ads)">
              <option value="vidbinge">VidBinge - 4k </option>
              <option value="vidsrcnl">VidSrc NL </option>
              <option value="filmxy">Filmxy - Multi Lang</option>
            </optgroup>
            <optgroup label="Alternative Providers (Ads May Appear)">
              <option value="vidlink">VidLink - ads </option>
              <option value="vidsrc">VidSrc - Ads </option>
              <option value="embedsu">Embedsu - ads</option>
              <option value="vidsrcicu">VidSrc ICU - Ads</option>
              <option value="vidsrcpro">VidSrcPro - Ads</option>
              <option value="autoembed">AutoEmbed - Ads</option>
              <option value="nontonGo">NontonGo - Ads</option>
              <option value="vidsrcxyz">VidSrcXYZ - Ads</option>
              <option value="embedsoap">EmbedSoap - Ads</option>
              <option value="smashystream">SmashyStream - Ads</option>
              <option value="2embed">2Embed - Ads</option>
              <option value="moviesapi">MoviesAPI - Decent Provider</option>
              <option value="1vid1shar">1Vid1Shar - Ads</option>
              <option value="moviee">Moviee - Ads</option>
              <option value="multiembed">MultiEmbed - Ads</option>
              <option value="multiembedvip">MultiEmbedVIP - Ads</option>
            </optgroup>
            <optgroup label="Anime Providers">
              <option value="AdminHiHi">AdminHiHi - Dubbed Episodes (No Ads)</option>
              <option value="2anime">2Anime - Dub Only</option>
              <option value="anime">Anime - Sub Only</option>
              <option value="2animesub">2Anime - Sub Only</option>
              <option value="trailer">Trailer</option>
            </optgroup>
          </select>
        </div>

  <!-- Orientation Lock Toggle -->
  <div class="flex items-center justify-between p-2 rounded-lg bg-gray-800">
    <label for="orientationLockToggle" class="block text-xs sm:text-sm font-semibold text-gray-200">
      <i class="fas fa-sync-alt mr-2"></i>Orientation Lock
    </label>
    <div class="relative inline-block w-12 align-middle select-none">
      <input type="checkbox" id="orientationLockToggle" class="toggle-checkbox" />
      <label for="orientationLockToggle" class="block w-12 h-6 rounded-full bg-gray-700 cursor-pointer"></label>
    </div>
  </div>

  <!-- Auto Fullscreen Toggle (Desktop Only) -->
  <div class="hidden sm:flex items-center justify-between p-2 rounded-lg bg-gray-800">
    <label for="autoFullscreenToggle" class="block text-xs sm:text-sm font-semibold text-gray-200">
      <i class="fas fa-expand mr-2"></i>Auto Fullscreen
    </label>
    <div class="relative inline-block w-12 align-middle select-none">
      <input type="checkbox" id="autoFullscreenToggle" class="toggle-checkbox" checked />
      <label for="autoFullscreenToggle" class="block w-12 h-6 rounded-full bg-gray-700 cursor-pointer"></label>
    </div>
  </div>

  <!-- Mobile Info Message -->
  <div class="sm:hidden flex items-center p-2 rounded-lg bg-gray-800">
    <span class="text-xs text-gray-400">
      <i class="fas fa-expand mr-2"></i>Auto Fullscreen (disabled on mobile)
    </span>
  </div>
  <p class="text-xs note">Note: The "Best Providers (No Ads)" section contains providers with no ads. Other providers may include ads.</p>

        <!-- Episode Selection Button -->
        <div>
          <button id="selectEpisodeButton"
                  class="w-full btn-gradient hover:scale-105 text-white font-bold py-1 sm:py-2 px-2 sm:px-3 rounded-lg shadow-lg transition-all duration-300 ease-in-out">
            <i class="fas fa-list mr-2"></i>Select Episode
          </button>
        </div>

        <!-- Play/Close Button Container -->
        <div>
          <button id="playButton"
                  class="w-full btn-gradient hover:scale-105 text-white font-bold py-1 sm:py-2 px-2 sm:px-3 rounded-lg shadow-lg transition-all duration-300 ease-in-out">
            <i class="fas fa-play mr-2"></i>Play
          </button>
          <button id="closePlayerButton"
                  class="w-full bg-gradient-to-r from-red-600 to-red-800 hover:bg-red-900 text-white font-bold py-1 sm:py-2 px-2 sm:px-3 rounded-lg shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 hidden">
            <i class="fas fa-times mr-2"></i>Close Player
          </button>
        </div>

        <!-- Share Button -->
        <button id="shareButton"
                class="w-full bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white font-bold py-1 sm:py-2 px-2 sm:px-3 rounded-lg shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105">
          <i class="fas fa-share-alt mr-2"></i>Share
        </button>
      </div>
    </div>

    <!-- Movie Info Section -->
    <div id="movieInfo" class="lg:w-2/3 w-full glassmorphism-form rounded-2xl p-6 sm:p-8 space-y-6 shadow-xl">
      <!-- Title and Release Date -->
      <div class="space-y-2">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-white">{{title_or_name}}</h2>
        <p class="text-base sm:text-lg text-gray-400">{{release_date_or_first_air_date}}</p>
      </div>

      <!-- Overview -->
      <p class="text-sm sm:text-base text-gray-300 leading-relaxed">{{overview}}</p>

      <!-- Basic Info (Language, Type, Runtime, Genres) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
        <p class="text-gray-400"><i class="fas fa-globe mr-2"></i>Language: <span class="font-semibold text-gray-200">{{language}}</span></p>
        <p class="text-gray-400"><i class="fas fa-film mr-2"></i>Type: <span class="font-semibold text-gray-200">{{type}}</span></p>
        <p class="text-gray-400"><i class="fas fa-clock mr-2"></i>Runtime: <span class="font-semibold text-gray-200">{{runtime}}</span></p>
        <p class="text-gray-400"><i class="fas fa-tags mr-2"></i>Genres: <span class="font-semibold text-gray-200">{{genres}}</span></p>
      </div>

      <!-- Ratings and Popularity -->
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between border-t border-gray-700 pt-4 space-y-4 sm:space-y-0">
        <div id="ratings" class="text-gray-300">{{ratings}}</div>
        <div id="popularity" class="text-gray-300">{{popularity}}</div>
      </div>

      <!-- Budget and Revenue -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm border-t border-gray-700 pt-4">
        <p class="text-gray-400"><i class="fas fa-money-bill-wave mr-2"></i>Budget: <span class="font-semibold text-gray-200">{{budget}}</span></p>
        <p class="text-gray-400"><i class="fas fa-chart-line mr-2"></i>Revenue: <span class="font-semibold text-gray-200">{{revenue}}</span></p>
      </div>

      <!-- Cast Section -->
      <div class="border-t border-gray-700 pt-4">
        <h3 class="text-lg sm:text-xl font-semibold text-white mb-4"><i class="fas fa-users mr-2"></i>Primary Cast</h3>
        <div id="castList" class="flex overflow-x-auto pb-4 space-x-4 custom-scrollbar">
          {{cast_list}}
        </div>
      </div>

      <!-- Production Companies -->
      <div class="border-t border-gray-700 pt-4">
        <h3 class="text-lg sm:text-xl font-semibold text-white mb-4"><i class="fas fa-building mr-2"></i>Production Companies</h3>
        <div id="productionCompaniesList" class="flex overflow-x-auto pb-4 space-x-4 custom-scrollbar">
          {{production_companies}}
        </div>
      </div>

      <!-- Video Player -->
      <div id="videoPlayer" class="w-full rounded-2xl overflow-hidden hidden relative bg-black mt-6 shadow-xl">
        <div class="absolute inset-0 bg-cover bg-center rounded-2xl high-quality-bg opacity-50 blur-sm"
             style="background-image: url('https://image.tmdb.org/t/p/original{{poster_path}}');">
        </div>
        <div class="relative z-10 h-full overflow-auto rounded-2xl p-4">
          <!-- Status message -->
          <div id="providerStatus" class="absolute top-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2 text-center text-sm hidden">
            <span id="providerStatusText"></span>
          </div>
          <!-- The iframe will be injected here -->
        </div>
      </div>
    </div>
  </div>
</div>


